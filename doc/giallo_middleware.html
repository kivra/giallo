<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>Module giallo_middleware</title>
<link rel="stylesheet" type="text/css" href="stylesheet.css" title="EDoc">
</head>
<body bgcolor="white">
<div class="navbar"><a name="#navbar_top"></a><table width="100%" border="0" cellspacing="0" cellpadding="2" summary="navigation bar"><tr><td><a href="overview-summary.html" target="overviewFrame">Overview</a></td><td><a href="http://www.erlang.org/"><img src="erlang.png" align="right" border="0" alt="erlang logo"></a></td></tr></table></div>
<hr>

<h1>Module giallo_middleware</h1>
<ul class="index"><li><a href="#description">Description</a></li><li><a href="#index">Function Index</a></li><li><a href="#functions">Function Details</a></li></ul>Giallo middleware.

<p><b>Behaviours:</b> <a href="/Users/bip/Documents/Code/giallo_bip/deps/cowboy/doc/cowboy_middleware.html"><tt>cowboy_middleware</tt></a>.</p>

<h2><a name="description">Description</a></h2><p>Giallo middleware.</p>
 
  This module is implemented as a Cowboy middleware and checks if a given
  request should be handled by a Giallo handler. If so it executes that
  handler and evaluates the response. If Giallo determines that it shouldn't
  execute the handler it will hand it off to Cowboy or return 404 depending
  on if the handler implements the correct Cowboy behavior or not.
<h2><a name="index">Function Index</a></h2>
<table width="100%" border="1" cellspacing="0" cellpadding="2" summary="function index"><tr><td valign="top"><a href="#execute-2">execute/2</a></td><td>This function is called from Cowboy for every request.</td></tr>
<tr><td valign="top"><a href="#execute_handler-1">execute_handler/1</a></td><td></td></tr>
</table>

<h2><a name="functions">Function Details</a></h2>

<h3 class="function"><a name="execute-2">execute/2</a></h3>
<div class="spec">
<p><tt>execute(Req0, Env) -&gt; {ok, Req, Env} | {error, 500, Req} | {halt, Req}</tt>
<ul class="definitions"><li><tt>Req0 = <a href="/Users/bip/Documents/Code/giallo_bip/deps/cowboy/doc/cowboy_req.html#type-req">cowboy_req:req()</a></tt></li><li><tt>Req = <a href="/Users/bip/Documents/Code/giallo_bip/deps/cowboy/doc/cowboy_req.html#type-req">cowboy_req:req()</a></tt></li><li><tt>Env = <a href="/Users/bip/Documents/Code/giallo_bip/deps/cowboy/doc/cowboy_middleware.html#type-env">cowboy_middleware:env()</a></tt></li></ul></p>
</div><p><p>This function is called from Cowboy for every request. For every call       
it will check to see if it should execute a Giallo handler, or       
transparently pass on to Cowboy. The flow of control is:</p>
 
       <pre>
       Cowboy
         |
       Giallo (<a href="giallo_middleware.html#execute-2"><code>giallo_middleware:execute/2</code></a>)
         |
       Is handler valid?
         |  \ no
         |   - Hand over the control to Cowboy to 404 it
         |
         | yes
       Is action valid?
         |  \ no
         |   \
         |    - Is the index_/4 action valid?
         |    | \ no
         |    |  \
         |    |   - Is the handler a valid Cowboy handler?
         |    |   |  \ no
         |    |   |   \
         |    |   |    - Return a 404
         |    |   |
         |    | Hand over control to Cowboy to continue processing
         |    |
         |  Execute(*) the index_/4 action and render the result
         |
       Execute(*) the action and render the result
 
       (*) Look to see if before_/4 should be executed
       </pre></p>

<h3 class="function"><a name="execute_handler-1">execute_handler/1</a></h3>
<div class="spec">
<p><tt>execute_handler(GialloReq) -&gt; {ok, Req, Env} | {error, 500, Req} | {halt, Req}</tt>
<ul class="definitions"><li><tt>GialloReq = <a href="giallo.html#type-giallo_req">giallo:giallo_req()</a></tt></li><li><tt>Req = <a href="/Users/bip/Documents/Code/giallo_bip/deps/cowboy/doc/cowboy_req.html#type-req">cowboy_req:req()</a></tt></li><li><tt>Env = <a href="/Users/bip/Documents/Code/giallo_bip/deps/cowboy/doc/cowboy_middleware.html#type-env">cowboy_middleware:env()</a></tt></li></ul></p>
</div>
<hr>

<div class="navbar"><a name="#navbar_bottom"></a><table width="100%" border="0" cellspacing="0" cellpadding="2" summary="navigation bar"><tr><td><a href="overview-summary.html" target="overviewFrame">Overview</a></td><td><a href="http://www.erlang.org/"><img src="erlang.png" align="right" border="0" alt="erlang logo"></a></td></tr></table></div>
<p><i>Generated by EDoc, Apr 26 2013, 12:43:46.</i></p>
</body>
</html>
